#CODEX 이코노믹 모델 초안 Beta 1.0

## 1. 머리말

CODEX는 퍼블릭 체인에 기반한 크로스 체인 서비스를 만들어 지속 가능한 이기종 크로스 체인 아키텍처를 도입합니다. 아키텍처는 고성능 크로스 체인 릴레이 솔루션과 병렬 체인을 위한 편리한 개발 도구를 제공합니다. 최종 형태는 분산형 멀티 체인 생태 플랫폼입니다.

CODEX는 BTC/ETH와 같은 이종 체인, EOSIO와 같은 동종 체인, 그리고 FORCEIO 병렬 체인을 지속적으로 연결하여 완전하게 탈중앙화된 멀티 체인 크로스 체인 시스템을 형성을 목표로 합니다.

이코노믹 모델은 퍼블릭 체인에 있어 지속 가능한 개발의 핵심이라 할 수 있습니다. 전통적인 POS 토큰 분배 모델은 대부분 ICO를 채택합니다. 즉, 토큰의 약 90%가 ICO로 판매되게 됩니다. 또한 메인넷이 런칭된 후, 노드는 낮은 인플레이션으로 보상을 받습니다. 극단적으로 중앙화적인 토큰 배포 방식은 시스템의 빠른 중앙집권 조직화를 야기합니다.

개발팀은 메인넷 런칭 전에 이미 충분한 자금과 토큰을 갖게 되고, 이는 개발팀의 열정을 떨어뜨립니다. 그리고 메인넷 런칭 후 사용자의 요구 사항에 맞춰 지속적으로 업그레이드를 하기가 힘듭니다. POS와 POW에는 큰 차이점이 있습니다. POW 토큰 보유자는 시스템의 배당권만 갖는 것으로, 시스템의 의사결정권은 시스템에 계속 기여하는 채굴자와 개발자가 갖습니다. 하지만 POS 토큰 보유자는 시스템의 배당권 뿐만 아니라, 의사결정권 또한 갖게 됩니다. 따라서 POS 컨센서스에서는 시스템 기여자에게 공정하고 지속적으로 동기를 부여하는 것이 더욱 중요해집니다. 

CODEX 릴레이 체인은 100% 채굴로 발행되며, 개발팀에서 사전에 확보하는 물량이 없고, 고정된 토큰 보상도 없습니다. CODEX는 지속적인 인플레이션 발행을 통해 전체 네트워크에 토큰을 분배합니다. 이로 인해, 언제 커뮤니티에 참여하더라도 공정성에 영향을 미치지 않습니다 CODEX가 더 많은 퍼블릭 체인 프로토콜에 연결됨에 따라 더 많은 이종 체인 사용자들이 CODEX 거버넌스에 자유롭게 참여할 수 있으며, CODEX 시스템 토큰을 공정하게 얻을 수 있습니다. 개발팀은 분산형 예산 시스템, 전체 투표 시스템, 제인 시스템 등을 설계했고, 이를 통해 시스템의 탈중앙화와 지속 가능성을 보장합니다.

개발팀은 커뮤니티와 함께 지속 가능한 블록체인을 탐구하기 위해 CODEX 크로스 체인 테스트넷을 구축하고, 새로운 CODEX 이코노믹 모델 초안 Beta 1.0을 설계했습니다. 

## 2. 토큰 발행

개념: 

- CDX: CODEX의 시스템 토큰
- 주기: CCODEX는 1초에 블록이 1개씩 생성됩니다. CODEX에서 한 주기란 블록이 누락되는 것 없이 315개의 블록을 생산하는 것을 의미합니다. 변동 사항이 생길 경우 현재 주기는 자동으로 종료됩니다.

### 2.1 인플레이션

1초에 블록이 1개씩 생성되고, 각 주기마다 315개의 블록이 생성됩니다. 재네시스 블록에서는 각 블록당 2 CDX가 발행되며, 275주기마다 블록당 발행량이 1.001배 증가합니다.

### 2.2 완전히 공정한 채굴 방식

시스템 토큰이 아닌 토큰으로도 스태이킹 방식을 이용해 컴퓨팅 파워 증명을 얻을 수 있습니다.

시스템 토큰이 아닌 토큰(초기 지원: EOS, EOSC, ENU, Telos, 그 외 다른 EOSIO 토큰. 추후 지원 예정: BTC, ETH, 그 외 다른 이종 체인)과 체인의 지정된 컨트랙트 계정에 대한 스태이킹은 채굴에 참여할 수 있습니다. 해당 체인의 퍼미션은 CODEX BP의 멀티 사인으로 관리됩니다. 스태이킹된 토큰은 언제든지 언스태이킹할 수 있습니다. 시스템 토큰이 아닌 토큰이 스태이킹되면, CODEX는 시장 가격(체인 상의 CODEX 거래소 비율)에 0.05를 곱한 수치에 따라 컴퓨팅 파워 증명 부여합니다.

시스템 토큰인 CDX로 투표에 참여해 컴퓨팅 파워를 얻을 수 있습니다.

채굴 파워는 시스템 토큰 CDX로 채굴 선거 투표에 참여해 얻을 수도 있습니다. 사용자는 시스템 토큰을 스태이킹하고 투표를 시작할 수 있으며, 스태이킹한 토큰은 언제든지 투표 노드를 바꿀 수 있습니다. 만약 노드가 블록 누락으로 인해 2/3 멀티 사인으로 제재 받을 경우, 패널티 기간 동안 해당 노드에서는 배당을 받을 수 없습니다.

매 275 주기마다 시스템은 전체 체인에 대한 채굴 컴퓨팅 파워의 가중치에 따라 채굴 보상을 할당합니다. 
각 사용자가 얻는 채굴 보상의 수 = 사용자의 컴퓨팅 파워 값 / 전체 컴퓨팅 파워 값

구체적인 공식은 다음과 같습니다:
가정:
블록 $k$에 대한 인센티브는 $R_k$이며, 블록 $k$부터 결제 주기 $C_k=[Block_k,Block_{k+172800})$가 시작

가정:
-사용자가 $U=[U_1,U_2, ... , U_n]$를 설정
-토큰 $T=[T_1,T_2, ... , T_n]$
-스태이킹 토큰 값 $ST=[ST_1,ST_2, ... , ST_k]$
-투표 토큰 값 $VT=[VT_1,VT_2, ... , VT_k]$

$C_j$ 주기에서 가정:
각 토큰의 평균 가격은 $C_j$ 주기에서 $P=[P_1,P_2..., P_k]$
사용자 $\mathbf{u}$가 스태이킹한 $T_k$ 토큰의 가치는 ${ST}_k^u={ST}_kP_k$, 스태이킹 블록 높이 간격은 ${SN}_k^{\mathbf{u}}$,
사용자 $\mathbf{u}$가 투표한 $T_k$ 토큰의 가치는 ${ST}_k^u={ST}_kP_k$, 투표 블록 높이 간격은 ${SN}_k^{\mathbf{u}}$,,

같은 주기에서의 사용자의 스태이킹 및 투표 시, 시스템이 가치와 지속시간을 기반으로 인센티브를 배당합니다.

그러면 $C_j$주기에서 사용자$\mathbf{u}$의 스태이킹 보상은 다음과 같습니다:
$$StakeReward_{\mathbf{u},C_j} = ∑_{k∈C_j}R_k × \frac {∑_{i∈T}{ST}_i^\mathbf{u} {SN}_i^\mathbf{u}} { ∑_{j∈U}∑_{i∈S}{ST}_i^j{SN}_i^j + ∑_{j∈U}∑_{i∈S}{VT}_i^j{VN}_i^j }$$

투표 보상은 다음과 같습니다:
$$VoteReward_{\mathbf{u},C_j} = ∑_{k∈C_j}R_k × \frac {∑_{i∈T}{VT}_i^\mathbf{u} {VN}_i^\mathbf{u}} { ∑_{j∈U}∑_{i∈S}{ST}_i^j{SN}_i^j + ∑_{j∈U}∑_{i∈S}{VT}_i^j{VN}_i^j }$$

그러므로:
$$∑_{k∈C_j}R_k = ∑_{j∈U}(StakeReward_{\mathbf{u},C_j} + VoteReward_{\mathbf{u},C_j})$$

구동 시, 시스템은 토큰에 종류에 따라 전체적인 인센티브를 할당하고, 블록$k$ as $R_k^{T_m}$에서 토큰을 $T_m$로 설정합니다.

시스템이 가치에 따라 인센티브를 배당한다는 것을 고려할 때, 다음과 같아야 합니다:
$$∑_{k∈C_j}{SR}_k^{T_m} = ∑_{k∈C_j}R_k × \frac {∑_{\mathscr{u}∈U} {∑_{}{ST}_m^\mathscr{u} {SN}_m^\mathscr{u}} } { ∑_{j∈U}∑_{i∈S}{ST}_i^j{SN}_i^j + ∑_{j∈U}∑_{i∈S}{VT}_i^j{VN}_i^j }$$

$$∑_{k∈C_j}{VR}_k^{T_m} = ∑_{k∈C_j}R_k × \frac {∑_{\mathscr{u}∈U} {∑_{}{VT}_m^\mathscr{u} {VN}_m^\mathscr{u}} } { ∑_{j∈U}∑_{i∈S}{ST}_i^j{SN}_i^j + ∑_{j∈U}∑_{i∈S}{VT}_i^j{VN}_i^j }$$

따라서:
$$∑{k∈C_j}R_k = ∑{T_m∈T}∑{k∈C_j}{SR}k^{T_m} + ∑{T_m∈T}∑{k∈C_j}{VR}_k^{T_m}$$

따라서 사용자$\mathbf{u}$에 대해 다음과 같이 결론짓습니다:
$$StakeReward_{\mathbf{u},C_j} = ∑_{T_m∈T}∑_{k∈C_j}{SR}_k^{T_m} \frac {{ST}_m^\mathbf{u}{SN}_m^\mathbf{u}} { ∑_{\mathscr{u}∈U} ∑_{}{ST}_m^\mathscr{u} {SN}_m^\mathscr{u} }$$

$$VoteReward_{\mathbf{u},C_j} = ∑_{T_m∈T}∑_{k∈C_j}{VR}_k^{T_m} \frac {{VT}_m^\mathbf{u}{VN}_m^\mathbf{u}} { ∑_{\mathscr{u}∈U} ∑_{}{VT}_m^\mathscr{u} {VN}_m^\mathscr{u} }$$


### 2.3 발행 주기

우리는 공정하게 토큰을 발행하기 위해, 발행 주기를 설계했습니다. 발행 주기는 새로 발행된 토큰의 잠금이 해제되기 위해 필요한 기간입니다. 슬로우 스타트 기간에서 발행 주기는 2592000 블록당 한 주기로, 체인의 초기 단계에서 감쇠 과정을 가집니다. 감쇠 과정의 논리는 발행 주기가 생성된 2.5 블록당 한 블록을 소멸시키고, 최종적으로 604800 블록당 한 사이클로 안정화합니다. 발행 주기에 있는 토큰은 이체 및 투표가 불가능합니다.

### 2.4 슬로우 스타트 과정

초기의 토큰 유통 기간에 채굴자들이 보다 공정하게 접근할 수 있도록 하기 위해, 메인넷 런칭 후 60일 동안 슬로우 스타트 기간을 갖습니다.

슬로우 스타트 기간 동안의 배당 파라미터

- 당기 배당: 143
- 매 275 주기 당 배당 증가 파라미터: 1.025

슬로우 스타트 기간 후의 배당 파라미터

- 당기 배당: 630
- 매 275 주기 당 배당 증가 파라미터: 1.001

## 3. 노드

노드는 블록 생성 노드와 수익 노드 두 종류로 구분됩니다. 블록 생성 노드는 득표 수가 가장 많은 21개 노드로 구성됩니다. 그리고 22번째 노드부터는 수익 노드입니다. 득표 수가 CDX 전체 스태이킹 수량의 0.5%를 초과하면 수익 노드가 될 수 있습니다. 사용자는 블록 생성 노드와 수익 노드에 투표함으로써 배당금을 얻을 수 있습니다.

블록 생성 보상 및 투표 수수료 보상
블록 생성 보상은 블록 보상의 3%로 설정된 블록 생성에 대한 보상을 의미하며, 노드의 블록 생성 나이(연속 블록 생성 시간)에 따라 가중치로 할당됩니다. 만약 주기에서 블록이 누락될 경우, 가중치가 리셋됩니다. 만약 블록을 생성하는 노드가 바뀌면 모든 노드의 블록 가중치가 리셋됩니다.

투표 보상은 사용자의 투표 수입을 처리에 대한 수수료입니다. 기본 수수료 비율을 10%로, 노드는 자유롭게 수수료를 설정할 수 있습니다.(0%-100%)

블록 생성 노드는 시스템 토큰의 일부를 보증금으로 스태이킹해야 합니다. 보증금이 최소값(현재 블록 당 코인 수량 * 8228)보다 적을 경우 블록 보상을 받을 수 없으며, 노드는 BP를 운영할 수 없습니다. 누락된 블록이 발생할 때 보증금이 차감되며, 누락된 블록 당 블록 보상의 2배에 해당하는 보증금이 차감됩니다.(예: 만약 1개의 블록에서 1개의 토큰이 발행될 경우, 2개의 토큰이 보증금에서 차감됩니다.)

벌금은 멀티 사인으로 BP에 패널티를 제안한 사용자와 멀티 사인에 동의한 상위 14개 노드 간에 균등하게 나눕니다.(제안자 50%, 멀티 사인 50%). 노드가 퇴출된 경우, 이틀간 관찰 기간에 들어가며, 이 기간 동안 사용자는 투표 채굴 보상을 받을 수 없습니다. 이틀간의 관찰 기간이 끝나면 BP는 원상 복구를 신청하고 다시 정상적으로 선거에 참여 및 투표 채굴 수익을 얻을 수 있습니다.
만약 블록 생성 과정에서 보증금이 부족할 경우 1시간 동안 블록 노드에서 퇴출됩니다.

재네시스 부트스트랩 노드
26개의 재네시스 부트스트랩 노드가 개발팀에 의해 런칭될 것입니다. 부트스트랩 노드의 투표 수는 커뮤니티 BP가 블록 생성을 용이하게 하기 위한 사다리 표 형태입니다.(사다리에는 400000표 4장, 600000표 4장, 1300000표 3장, 2100000표 3장, 10000000표 8장, 대체 노드 5개가 있습니다.). 시스템 컨트랙트는 1년 후 자동으로 대여된 토큰을 파기하며, 이 기간 동안 어떤 계정도 이 토큰들을 사용할 수 없습니다. 재네시스 부트스트랩 노드는 투표 배당이 없으며, 사용자가 투표할 수 없습니다. 재네시스 부트스트랩 노드가 얻은 블록 보상 토큰은 재단 계정에 잠기게 되며, 그 누구도 유용할 수 없습니다. 향후에 이것들은 커뮤니티 멀티 사인 계정으로 이체되어 커뮤니티에 의해 처리될 것입니다.

## 4. 체인의 자원 사용 

CODEX 시스템에서 자원을 사용하려면 시스템 토큰인 CDX를 스태이킹해야 합니다. 첫 번째 63072000 블록은 최소 보증 단계로, 새로 등록한 각 사용자는 기본적으로 일일 이체에 필요한 시스템 리소스를 받습니다. 그 후의 시스템 자원은 모두 시스템 토큰을 스태이킹해야 얻을 수 있습니다. 스태이킹한 토큰을 언스태이킹하는 데에는 3일이 소요됩니다.

- 체인 상의 거버넌스 투표
- 노드 보증금
- 릴레이 검증기 보증금
- 거래소 계정 등록 및 거래 페어 열기(거래소 계정만 거래 페어를 열 수 있습니다.)
- 트랜잭션/옵션/임대 등 체인의 시스템 통합 컨트랙션 사용

## 5. 체인의 분산화 예산 시스템

지속 가능한 발전은 블록체인 프로젝트의 가장 중요한 부분입니다. 현재 대부분의 블록체인 사업의 예산 시스템은 두 가지로 나눌 수 있습니다. 100% 채굴자에게 보상하는 POW는 네트워크 개발자에게 의존해 봉사하는 것으로 지속가능한 발전을 보장할 수 없습니다. 일부 POW 블록체인 코드베이스는 오랫동안 업데이트되지 않았습니다. ICO가 초기에 각종 사업에 충분한 자금을 제공했지만, 이들은 자금을 사업 발전에 효과적으로 이용하지 못했습니다 ICO가 끝나면 대부분의 개발자들을 이익을 얻은 후 점차 프로젝트를 포기하게 되고, 소수의 개발자들만 계속 일을 하게 됩니다.

우리는 DASH의 분산형 예산 시스템이 위와 같은 문제를 해결할 것으로 보고 상당히 놀랐습니다. 우리는 DASH의 예산 시스템을 기반으로 몇 가지를 개선했습니다. CODEX 예산 기금 시스템의 기본 원칙은 노드 투표를 통해 예산 자금의 배분을 결정하는 것입니다. 누구든 CODEX 예산 시스템에서 예산을 신청할 수 있습니다.(허위 제안을 막기 위해 제안료로 N CDX를 지불해야 합니다.). 제안의 목적, 실시 방식, 소요 기간, 소요 비용, CDX 소요량, CODEX 생태계에 대한 기대 효과 등을 구체적으로 명시해야 합니다. 현재의 모든 블록 생성 노드는 정기적으로 제안들을 검토하고, 자신의 재량에 따라 동의, 반대 또는 기권에 투표하고, 해당 제안이 2/3 이상의 찬성을 얻으면 제안은 승인됩니다. 개발팀의 급여 예산, 각 지역의 프로모션 예산, 지갑 및 거래소와의 협력 예산, 기타 협력 예산 등을 포함한 제안이 승인되면, 각 제안은 자발적으로 운영되는 DAO(Decentralized Autonomous Organization)가 되는 것입니다.

제안이 승인되면 제안자는 다음 블록 보상에서 제안 내용 진행을 위한 예산을 받을 수 있습니다.

## 6. CODEX 베타 테스트 중 관련 파라미터에 대한 조정 지침

### 6.1 주기 

테스트 기간 동안, 각 BP는 3개의 블록을 연속적으로 생성하며, 21개의 BP는 한 주기 동안 63개의 블록을 생산합니다.

### 6.2 채굴 보상 지급 주기

테스트 기간 동안, 채굴 보상은 매 5 주기마다 주어집니다.

### 6.3 슬로우 스타트

테스트 기간 동안, 슬로우 스타트 기간은 10 채굴 보상 지급 주기입니다.

### 6.4 인플레이션 발행

슬로우 스타트 기간의 초기 인플레이션은 주기당 58.6이며, 이는 블록당 0.9301, 증가율을 1.025입니다. 슬로우 스타트 후의 초기 인플레이션은 주기당 126으로, 블록당 2, 증가율은 1.001입니다.






















